source("setup_sims.R")
fldr <- "~/Dropbox/did/R/"
sapply(paste0(fldr,list.files(fldr)), source)
remotes::install_github("pedrohcgs/DRDID")
library(BMisc)
library(ggplot2)
library(gridExtra)


#-----------------------------------------------------------------------------
# pre-test simulations
# ...not actually that fast, but not nearly as slow as the other ones!
#-----------------------------------------------------------------------------


#-----------------------------------------------------------------------------
# panel with covariates
#-----------------------------------------------------------------------------
reset.sim()
te <- 0
nt <- nu <- 200
time.periods <- 3
#bett <- betu <- rep(0,time.periods)
pretest_sim(ret=NULL, bstrap=FALSE, cband=FALSE,
            control.group="nevertreated", panel=TRUE, xformla=~X, cores=3) 

#-----------------------------------------------------------------------------
# repeated cross sections with covariates
#-----------------------------------------------------------------------------
reset.sim()
time.periods <- 4
te <- 0
pretest_sim(n=1000, xformla=~X, cores=3)
